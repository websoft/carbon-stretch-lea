{
  "name": "lea",
  "version": "1.0.1",
  "private": true,
  "description": "Lea monorepo",
  "license": "UNLICENSED",
  "bugs": {
    "url": "https://github.com/websoft/lea/issues"
  },
  "scripts": {
    "start-server": "run-s docker-build-base docker-up-dev",
    "test": "run-s docker-build-prod-base docker-up-test",
    "integration-test-dev": "docker exec -i $(docker ps -aqf \"name=docker_server-test\") npm run integration-test",
    "reset-dev": "docker-compose -f docker/docker-compose.yml -f docker/docker-compose.development.yml down --volumes",
    "reset-test": "docker-compose -f docker/docker-compose.yml -f docker/docker-compose.test.yml down --volumes",
    "docker-clean": "docker container prune && docker volume prune",
    "pre-commit": "cd server && run-s eslint jest && cd ../client && npm run eslint",
    "\n# EXECUTED INSIDE THE DOCKER CONTAINER": "",
    "docker-test": "run-s docker-test-client docker-test-server",
    "docker-test-client": "cd client && npm run docker-test",
    "docker-test-server": "cd server && npm run docker-test",
    "\n# DEPLOY SCRIPTS:": "",
    "deploy-staging": "scripts/deploy-staging.sh",
    "\n# DOCKER BUILD SCRIPTS:": "",
    "docker-build-base": "docker build -t websoftag/lea-base -f docker/Dockerfile .",
    "docker-build-prod-base": "run-s docker-build-base docker-build-prod-base-only",
    "docker-build-prod-base-only": "docker build -t websoftag/lea-production-base -f docker/Dockerfile.production .",
    "docker-build-prod-server": "run-s docker-build-prod-base docker-build-prod-server-only",
    "docker-build-prod-server-only": "docker build -t websoftag/lea-server -f docker/Dockerfile.production.server .",
    "docker-build-prod-worker": "run-s docker-build-prod-base docker-build-prod-worker-only",
    "docker-build-prod-worker-only": "docker build -t websoftag/lea-worker -f docker/Dockerfile.production.worker .",
    "docker-build-prod": "run-s docker-build-prod-server docker-build-prod-worker",
    "\n# DOCKER UP SCRIPTS:": "",
    "docker-up-dev": "docker-compose -f docker/docker-compose.yml -f docker/docker-compose.development.yml up --build",
    "docker-up-dev-test": "docker-compose -f docker/docker-compose.development.test.yml up --build",
    "docker-up-postgres": "docker-compose -f docker/docker-compose.yml -f docker/docker-compose.development.yml up -d postgres",
    "docker-up-minio": "docker-compose -f docker/docker-compose.yml -f docker/docker-compose.development.yml up -d minio",
    "docker-up-test": "docker-compose -f docker/docker-compose.yml -f docker/docker-compose.test.yml up --force-recreate --build --exit-code-from server",
    "\n# DOCKER TAG SCRIPTS:": "",
    "docker-tag-prod-server": "docker tag websoftag/lea-server docker-registry.nine.ch/websoft-lea-production/server:latest",
    "docker-tag-prod-worker": "docker tag websoftag/lea-worker docker-registry.nine.ch/websoft-lea-production/worker:latest",
    "docker-tag-stag-server": "docker tag websoftag/lea-server docker-registry.nine.ch/websoft-lea-staging/server:latest",
    "docker-tag-stag-worker": "docker tag websoftag/lea-worker docker-registry.nine.ch/websoft-lea-staging/worker:latest",
    "\n# DOCKER PUSHSCRIPTS:": "",
    "docker-push-prod": "run-s docker-push-prod-server docker-push-prod-worker",
    "docker-push-prod-server": "run-s docker-tag-prod-server docker-push-prod-server-only",
    "docker-push-prod-server-only": "docker push docker-registry.nine.ch/websoft-lea-production/server:latest",
    "docker-push-prod-worker": "run-s docker-tag-prod-worker docker-push-prod-worker-only",
    "docker-push-prod-worker-only": "docker push docker-registry.nine.ch/websoft-lea-production/worker:latest",
    "docker-push-stag": "run-s docker-push-stag-server docker-push-stag-worker",
    "docker-push-stag-server": "run-s docker-tag-stag-server docker-push-stag-server-only",
    "docker-push-stag-server-only": "docker push docker-registry.nine.ch/websoft-lea-staging/server:latest",
    "docker-push-stag-worker": "run-s docker-tag-stag-worker docker-push-stag-worker-only",
    "docker-push-stag-worker-only": "docker push docker-registry.nine.ch/websoft-lea-staging/worker:latest"
  },
  "dependencies": {
    "npm-run-all": "^4.1.3"
  },
  "devDependencies": {
    "pre-commit": "^1.2.2"
  },
  "pre-commit": [
    "pre-commit"
  ]
}
